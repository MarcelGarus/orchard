import
  "...core"
    Int, String, Dynamic, to_dynamic t, format Dynamic, list t t t, List t,
    iterate (List t), map (Iterator a) (\ a -> b), sum (Iterator Int),
    Iterator t, + Int Int, format Int, debug_format value:t, list t t t t t,
    any t:Type, Type, Bool, + String String

Point =
  & x: Int
    y: Int

Task =
  | exit
    print: (& message: String then: \ -> Task)
    read_line: \ String -> Task

main a: Int -> Task =
  | print:
      & message: "What's your name?"
        then:
          \ ->
            | read_line:
                \ name: String ->      
                  | print:
                      & message: ("Hello, " .+ name .+ "!") then: \ -> | exit
