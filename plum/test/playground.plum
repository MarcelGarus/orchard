import
  ...core
  ...graphics

App = & render: (\ Size -> Texture)

main a: Int -> App =
  font = my_font 0
  & render:
      \ size: Size ->
        generate_texture
          & width: (size.width ./ 20) height: (size.height ./ 20)
          \ position: Position ->
            (& x y) = position
            rgb 255 (x .* 20 .mod 256) (y .* 20 .mod 256)
        . fill_rectangle (& left: 10 top: 10 right: 30 bottom: 30) (color "#000000")
        #. draw_text "Hello, Plum!" (& x: 10 y: 10) 100 font (color "#000000")
