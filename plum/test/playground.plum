import
  ...core
  ...graphics

App = & render: (\ Size -> Texture)

main a: Int -> App =
  #font = my_font 0
  texture =
    generate_texture
      & width: 2 height: 5
      #color "#0000ff"
      \ position: Position ->
        (& x y) = position
        (color "#0000ff")
        #rgb 255 (x .* 20 .mod 256) (y .* 20 .mod 256)
  & render:
      \ size: Size ->
        texture
        #. fill_rectangle (& left: 1 top: 2 right: 3 bottom: 5) (color "#000000")
        #. draw_text "Hello, Plum!" (& x: 10 y: 10) 100 font (color "#000000")
